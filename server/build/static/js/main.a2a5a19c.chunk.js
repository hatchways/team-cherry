(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{155:function(e,t,a){e.exports=a(222)},211:function(e,t){},221:function(e,t,a){},222:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(13),o=a.n(i),s=(a(97),a(11)),l=a(289),c=a(34),m=a(16),u=a(140),p=Object(u.a)({typography:{fontFamily:'"Roboto"',fontSize:12,h1:{fontWeight:"900",fontSize:"25px"},h2:{fontWeight:"900",fontSize:"15px"},h3:{fontWeight:"900",fontSize:"12px"}},palette:{primary:{light:"#839bf4",main:"#6582f2",dark:"#465ba9",contrastText:"#fff"},secondary:{main:"#fff"},background:{default:"#fafbff"}}}),d=a(8),h=a.n(d),f=a(15),g=a(265),b=a(273),y=a(58),x=a(267),E=Object(g.a)(function(e){return{button:{margin:e.spacing(3,0,2),backgroundColor:"".concat(e.palette.primary.main),color:"".concat(e.palette.primary.contrastText)},root:{borderRadius:"25px"}}}),v=function(e){var t=e.children,a=e.onClick,n=E();return r.a.createElement(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:"".concat(n.button),classes:{root:n.root},onClick:a},t)},w=a(291),k=Object(g.a)({root:{"& .MuiOutlinedInput-root":{borderRadius:"25px"}}}),O=function(e){var t=e.name,a=e.label,n=e.id,i=e.type,o=e.onChange,s=e.error,l=e.helperText,c=k();return r.a.createElement(w.a,{classes:{root:c.root},name:"".concat(t),label:"".concat(a),id:"".concat(n),type:"".concat(i),required:!0,variant:"outlined",margin:"normal",fullWidth:!0,onChange:o,error:s,helperText:l})},j=a(12),S=a.n(j),C=function(){return JSON.parse(localStorage.getItem("user"))},D=function(e){localStorage.setItem("user",JSON.stringify(e))},I=function(){localStorage.removeItem("user")},M=function(e){localStorage.setItem("redirect",JSON.stringify(e))},P=function(){return JSON.parse(localStorage.getItem("redirect"))},N=function(){localStorage.removeItem("redirect")},L=Object(g.a)(function(e){return{paper:{marginTop:"50px",display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},mainContainer:{border:"1px solid white",borderRadius:"5px",boxShadow:"0 2px 4px 0 gray",backgroundColor:"white",width:"900px",marginTop:"150px"}}});function B(e){var t=L(),a=e.location.pathname,i=Object(n.useState)(""),o=Object(s.a)(i,2),l=o[0],c=o[1],m=Object(n.useState)(!1),u=Object(s.a)(m,2),p=u[0],d=u[1],g=Object(n.useState)(""),x=Object(s.a)(g,2),E=x[0],w=x[1],k=Object(n.useState)(""),j=Object(s.a)(k,2),D=j[0],I=j[1],M=Object(n.useState)(!1),P=Object(s.a)(M,2),N=P[0],B=P[1],R=Object(n.useState)(""),F=Object(s.a)(R,2),W=F[0],A=F[1],U=Object(n.useState)(!1),z=Object(s.a)(U,2),G=z[0],H=z[1];C()&&e.history.push("/main");var _=function(){var t=Object(f.a)(h.a.mark(function t(a){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a.preventDefault(),d(!1),B(!1),H(!1),T(l)){t.next=9;break}return d(!0),w("Please enter a valid email address"),t.abrupt("return");case 9:if(""!==D){t.next=12;break}return B(!0),t.abrupt("return");case 12:if(!(W.length<7)){t.next=15;break}return H(!0),t.abrupt("return");case 15:return t.next=17,S.a.post("api/users/register",{email:l,password:W,company:D});case 17:if("That email already exists"!==t.sent){t.next=22;break}return d(!0),w("That email already exists"),t.abrupt("return");case 22:e.history.push("/main"),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(0),console.error(t.t0);case 29:case"end":return t.stop()}},t,null,[[0,26]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(b.a,{className:t.mainContainer,component:"main",maxWidth:"xs"},r.a.createElement("div",{className:t.paper},"/signup"===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"h1"},"Lets Get Started!"),r.a.createElement(y.a,null,"Create an account")):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"h1"},"Welcome Back!")),r.a.createElement("form",{className:t.form,onSubmit:_,noValidate:!0},r.a.createElement(O,{id:"email",label:"Email Address",name:"email",autoComplete:"email",error:p,helperText:E,onChange:function(e){c(e.target.value)}}),"/signup"===a?r.a.createElement(O,{name:"CompanyName",label:"Company Name",id:"CompanyName",error:N,helperText:N?"Please enter your company":"",onChange:function(e){I(e.target.value)}}):"",r.a.createElement(O,{name:"password",label:"Password",type:"password",id:"password",onChange:function(e){A(e.target.value)},error:G,helperText:G?"Please enter a password longer than 7 characters":""}),r.a.createElement(v,null,"/signup"===a?"Create":"Log In")))))}function T(e){return/^(([^<>()[\]\\.,;:\s@\\"]+(\.[^<>()[\]\\.,;:\s@\\"]+)*)|(\\".+\\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}var R=a(274),F=Object(g.a)(function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},mainContainer:{border:"1px solid white",borderRadius:"5px",boxShadow:"0 2px 4px 0 gray",backgroundColor:"white",marginTop:"100px",width:"900px"}}});function W(e){var t=F(),a=Object(n.useState)(""),i=Object(s.a)(a,2),o=i[0],l=i[1],c=Object(n.useState)(!1),m=Object(s.a)(c,2),u=m[0],p=m[1],d=Object(n.useState)(""),g=Object(s.a)(d,2),x=g[0],E=g[1],w=Object(n.useState)(""),k=Object(s.a)(w,2),j=k[0],I=k[1],M=Object(n.useState)(!1),L=Object(s.a)(M,2),B=L[0],T=L[1],W=Object(n.useState)(""),U=Object(s.a)(W,2),z=U[0],G=U[1];C()&&e.history.push("/main");var H=function(){var t=Object(f.a)(h.a.mark(function t(a){var n,r,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(C()&&e.history.push("/main"),t.prev=1,a.preventDefault(),p(!1),T(!1),A(o)||(p(!0),E("Please enter a valid email")),j.length<7&&(T(!0),G("Please enter a password with at least 7 characters")),!u&&!B){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,S.a.post("api/users/login",{email:o,password:j});case 11:if("User doesn't exist"!==(n=t.sent)){t.next=16;break}return p(!0),E("User doesn't exist"),t.abrupt("return");case 16:if("Password does not match"!==n){t.next=20;break}return T(!0),G("Password does not match"),t.abrupt("return");case 20:D(n.data.user),r=P(),i=e.history,r?(N(),i.push(r)):i.push("/main"),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(1),console.error(t.t0);case 29:case"end":return t.stop()}},t,null,[[1,26]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(b.a,{className:t.mainContainer,component:"main",maxWidth:"xs"},r.a.createElement(R.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"h1"},"Welcome Back!")),r.a.createElement("form",{className:t.form,onSubmit:H,noValidate:!0},r.a.createElement(O,{id:"email",label:"Email Address",name:"email",autoComplete:"email",error:u,helperText:u?x:"",onChange:function(e){l(e.target.value)}}),r.a.createElement(O,{name:"password",label:"Password",type:"password",id:"password",error:B,helperText:B?z:"",onChange:function(e){I(e.target.value)}}),r.a.createElement(v,null,"Log In"))))}function A(e){return/^(([^<>()[\]\\.,;:\s@\\"]+(\.[^<>()[\]\\.,;:\s@\\"]+)*)|(\\".+\\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}var U=a(22),z=a(20),G=a(123),H=a(124),_=a(141),J=a(125),Y=a(57),$=a(142),V=a(143),Z=a(298),q=a(275),K=a(272),X=a(278),Q=a(279),ee=a(299),te=a(280),ae=a(281),ne=a(282),re=a(283),ie=a(294),oe=a(296),se=a(4),le=a(285),ce=a(284),me=a(277),ue=a(74),pe=a.n(ue),de=a(126),he=a.n(de),fe=a(129),ge=a.n(fe),be=(a(214),a(76)),ye=a(130),xe=a.n(ye),Ee=a(134),ve=a.n(Ee),we=a(132),ke=a.n(we),Oe=a(133),je=a.n(Oe),Se=a(295),Ce=a(75),De=a.n(Ce),Ie=a(136),Me=a.n(Ie),Pe=a(78),Ne=a(276),Le=Object(g.a)(function(){return{CardInList:{height:"200px",width:"100%",maxWidth:"850px",borderRadius:"5px",background:"white",display:"flex",alignItems:"center",justifyContent:"flex-start",textAlign:"left",marginBottom:"25px"},CardInDialog:{height:"auto",maxHeight:"400px",width:"100%",borderRadius:"5px",background:"white",display:"flex",alignItems:"center",justifyContent:"flex-start",textAlign:"left"},thumbnailDiv:{width:"25%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"10px"},dividerDiv:{width:"3%"},thumbnailImg:{objectFit:"contain",maxHeight:"75%",width:"95%"},contentDiv:{marginTop:"20px",width:"69%"},paragraphInMentionsInList:{display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:5,WebkitBoxOrient:"vertical"},paragraphInMentionsInDialog:{whiteSpace:"pre-wrap",maxHeight:"300px",height:"auto"},fontColorForPlatform:{color:"#D3D3D3"},header:{display:"flex",justifyContent:"space-between"},likeIcon:{position:"relative",height:"25%",right:"80px",bottom:"12px"},sentiment:{float:"left",top:0,width:"100px",position:"absolute",right:0,display:"flex",justifyContent:"center",paddingLeft:"40px"}}});function Be(e){var t=Le(),a=Object(m.g)();return r.a.createElement(q.a,{style:{display:"flex"}},r.a.createElement(Pe.a,{disabled:!e.inList,className:e.inList?t.CardInList:t.CardInDialog,onClick:function(t){if(e.inLiked)e.toggleLikedDialog();else{var n=new URLSearchParams(window.location.search);a.push("/main/mentions/"+e.id+"|"+e.platform+"?"+n)}}},r.a.createElement("div",{className:e.inList?t.CardInList:t.CardInDialog},r.a.createElement("div",{className:t.thumbnailDiv},e.image?r.a.createElement("img",{className:t.thumbnailImg,src:e.image,alt:""}):r.a.createElement("img",{className:t.thumbnailImg,src:"/imgs/".concat(e.platform,"_icon.png"),alt:""})),r.a.createElement("div",{className:t.dividerDiv}),r.a.createElement("div",{className:t.contentDiv},r.a.createElement("div",{className:t.header},r.a.createElement(y.a,{noWrap:!0,gutterBottom:!0,variant:"h5",component:"h2"},e.title)),r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle1",component:"small",className:t.fontColorForPlatform},e.platform," | Popularity: ",e.popularity," |"," ",r.a.createElement(xe.a,{format:"YYYY/MM/DD HH:mm"},e.date)),e.inList?e.summary?r.a.createElement("p",{className:t.paragraphInMentionsInList},e.summary):r.a.createElement("p",{className:t.paragraphInMentionsInList},e.content):r.a.createElement("p",{className:t.paragraphInMentionsInDialog},e.content),r.a.createElement("div",{className:t.sentiment},r.a.createElement(Se.a,{title:"From a range between -1 to 1, we gave this post a sentiment score of ".concat(e.sentiment?e.sentiment.toFixed(2):0),"aria-label":"add",placement:"top"},e.sentiment<-.05?r.a.createElement(ke.a,{style:{color:"rgb(101, 130, 243)"}}):e.sentiment>.05?r.a.createElement(je.a,{style:{color:"rgb(101, 130, 243)"}}):r.a.createElement(ve.a,{style:{color:"rgb(101, 130, 243)"}})))))),r.a.createElement(Ne.a,{className:t.likeIcon,onClick:function(){return e.handleLikeToggle(e.id)}},e.inList?e.liked?r.a.createElement(De.a,{style:{fill:"red"}}):r.a.createElement(Me.a,null):null))}var Te=function(e){return{RootGridContainer:{"& .MuiGrid-container":{paddingTop:"50px"}},rightPart:{marginTop:"8em"},SwitchSelector:{height:"2.8em",width:"30%",fontWeight:400},leftPanelGrid:{height:"calc(100vh - 5.4em)",position:"fixed",marginTop:"5.4em"},leftPanelList:{background:"white",width:"100%"},platformItem:{height:"6em"},platformFont:{fontWeight:800},platformListItemAvatar:{marginRight:"7px"},platformAvatar:{width:e.spacing(6),height:e.spacing(6)},instruction:{textAlign:"center"},mention:{maxWidth:"100%"},snackBarBackground:{background:e.palette.primary.main}}},Re=Object(se.a)(function(e){return{root:{width:36,height:19,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(17px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#6583f2",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#6583f2",border:"6px solid #fff"}},thumb:{width:17,height:17},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:"#bdc7d4",opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}})(function(e){var t=e.classes,a=Object(V.a)(e,["classes"]);return r.a.createElement(Z.a,Object.assign({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},a))}),Fe=Object(se.a)(Te)(function(e){var t=e.children;return r.a.createElement(me.a,{disableTypography:!0},r.a.createElement(y.a,{variant:"h6"},t))}),We=function(e){function t(e){var a;Object(G.a)(this,t),(a=Object(_.a)(this,Object(J.a)(t).call(this,e))).handleSnackBarClick=function(e){var t=[].concat(Object(z.a)(a.state.mentions),Object(z.a)(a.state.newMentions));"MostRecent"===a.state.sortByState?a.sortByDate(t):a.sortByPopularity(t),a.setState({snackBarOpen:!1,newMentionsPopupOpen:!0,mentions:t})},a.handleNewMentionsPopupClose=function(){a.setState({newMentionsPopupOpen:!1,newMentions:[]})},a.handleSingleMentionPopupClose=function(){var e=new URLSearchParams(window.location.search);a.props.history.push("/main?"+e),a.setState({singleMentionPopupOpen:!1,idAndPlatformForMentionDisplayedInDialog:null,mentionDisplayedInDialog:null})};var n=new URLSearchParams(window.location.search),r=n.get("platforms"),i=[];r&&(i=r.split(","));var o=n.get("keywords");o||(o="");var s=n.get("sortBy");s||(s="MostRecent");var l=["Reddit","Twitter"],c=[];l.forEach(function(e){c[e]=i.includes(e)});var m=ge.a.connect("http://localhost:3000/",{query:{keywords:o,platformSelected:i}});return a.state={allPlatforms:l,platformSelected:Object(z.a)(i),keywords:o,mentions:[],hasMore:!0,page:1,newMentions:[],switchStates:c,sortByState:s,socket:m,snackBarOpen:!1,newMentionsPopupOpen:!1,idAndPlatformForMentionDisplayedInDialog:e.match.params.idAndPlatform,singleMentionPopupOpen:!1,mentionDisplayedInDialog:null},a.loadMoreMentions=Object(be.a)(500,a.loadMoreMentions.bind(Object(Y.a)(a))),a.toggleLike=a.toggleLike.bind(Object(Y.a)(a)),a}return Object($.a)(t,e),Object(H.a)(t,[{key:"componentDidUpdate",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a,n,r,i,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("componentDidUpdate here"),t=new URLSearchParams(window.location.search),(a=t.get("keywords"))||(a=""),this.state.keywords===a){e.next=12;break}return e.next=7,S.a.get("/api/mentions",{params:{platforms:this.state.platformSelected,keywords:a}});case 7:n=e.sent,r=n.data,"MostRecent"===this.state.sortByState?this.sortByDate(r.mentions):this.sortByPopularity(r.mentions),this.setState({mentions:r.mentions,keywords:a,page:1,hasMore:!0}),this.state.socket.emit("setKeywords",{keywords:this.state.keywords});case 12:if(!this.props.match.params.idAndPlatform){e.next=22;break}if(this.state.idAndPlatformForMentionDisplayedInDialog===this.props.match.params.idAndPlatform){e.next=20;break}return console.log("if"),e.next=17,S.a.get("/api/mentions/"+this.props.match.params.idAndPlatform);case 17:i=e.sent,(o=i.data)&&this.setState({mentionDisplayedInDialog:o.mention,singleMentionPopupOpen:!0,idAndPlatformForMentionDisplayedInDialog:this.props.match.params.idAndPlatform});case 20:e.next=23;break;case 22:this.state.idAndPlatformForMentionDisplayedInDialog&&(console.log("else"),this.setState({mentionDisplayedInDialog:null,singleMentionPopupOpen:!1,idAndPlatformForMentionDisplayedInDialog:null}));case 23:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a,n,r=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/mentions",{params:{platforms:this.state.platformSelected,keywords:this.state.keywords,page:this.state.page}});case 2:if(t=e.sent,"MostRecent"===this.state.sortByState?this.sortByDate(t.data.mentions):this.sortByPopularity(t.data.mentions),this.setState({mentions:t.data.mentions}),this.state.socket.on("newMentions",function(e){r.setState({newMentions:[].concat(Object(z.a)(e),Object(z.a)(r.state.newMentions))}),r.state.newMentionsPopupOpen||r.setState({snackBarOpen:!0})}),!this.state.idAndPlatformForMentionDisplayedInDialog){e.next=14;break}return e.next=9,S.a.get("/api/mentions/"+this.state.idAndPlatformForMentionDisplayedInDialog);case 9:if(a=e.sent,!(n=a.data)){e.next=14;break}return e.next=14,this.setState({mentionDisplayedInDialog:n.mention,singleMentionPopupOpen:!0});case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sortByPopularity",value:function(e){e.sort(function(e,t){return t.popularity-e.popularity})}},{key:"sortByDate",value:function(e){e.sort(function(e,t){return new Date(t.date)>new Date(e.date)?1:-1})}},{key:"sortToggle",value:function(e){var t=this.state.mentions;"MostRecent"===e?this.sortByDate(t):this.sortByPopularity(t),this.setState({mentions:t}),this.setState({sortByState:e});var a=new URLSearchParams(this.props.location.search);a.set("sortBy",e),this.props.history.push({search:a.toString()})}},{key:"handlePlatformToggle",value:function(){var e=Object(f.a)(h.a.mark(function e(t){var a,n,r,i,o,s,l,c,m;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.name,n=t.target.checked,this.state.switchStates[a]=n,!n){e.next=16;break}return e.next=6,this.setState({platformSelected:[].concat(Object(z.a)(this.state.platformSelected),[a])});case 6:return e.next=8,S.a.get("/api/mentions/",{params:{platforms:this.state.platformSelected,keywords:this.state.keywords}});case 8:return r=e.sent,i=r.data,o=i.mentions,"MostRecent"===this.state.sortByState?this.sortByDate(o):this.sortByPopularity(o),e.next=14,this.setState({mentions:o,hasMore:!0,page:1});case 14:e.next=24;break;case 16:return s=this.state.platformSelected.indexOf(a),l=this.state.platformSelected,-1!==s&&l.splice(s,1),e.next=21,this.setState({platformSelected:l});case 21:return c=this.state.mentions.filter(function(e){return e.platform!==a}),e.next=24,this.setState({mentions:c});case 24:(m=new URLSearchParams(window.location.search)).set("platforms",this.state.platformSelected),this.props.history.push(window.location.pathname+"?"+m.toString()),this.state.socket.emit("setPlatformSelected",{platformSelected:this.state.platformSelected});case 28:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"loadMoreMentions",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a,n,r,i,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/mentions",{params:{platforms:this.state.platformSelected,keywords:this.state.keywords,page:this.state.page+1}});case 2:t=e.sent,a=t.data,n=a.hasMore,r=a.page,i=a.mentions,n?(o=[].concat(Object(z.a)(this.state.mentions),Object(z.a)(i)),"MostRecent"==this.state.sortByState?this.sortByDate(o):this.sortByPopularity(o),this.setState({hasMore:n,page:r,mentions:o})):this.setState({hasMore:!1});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toggleLike",value:function(){var e=Object(f.a)(h.a.mark(function e(t){var a,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/users/mentions/".concat(t,"/like"));case 2:a=e.sent,a.data.mention,n=this.state.mentions.findIndex(function(e){return e.id===t}),r=this.state.mentions[n],this.setState({mentions:[].concat(Object(z.a)(this.state.mentions.slice(0,n)),[Object(U.a)({},r,{liked:!r.liked})],Object(z.a)(this.state.mentions.slice(n+1)))});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement(q.a,{container:!0},r.a.createElement(q.a,{item:!0,xs:3,container:!0,className:t.leftPanelGrid},r.a.createElement(K.a,{dense:!0,className:t.leftPanelList},this.state.allPlatforms.map(function(a){return r.a.createElement("div",{key:a},r.a.createElement(X.a,{className:t.platformItem},r.a.createElement(Q.a,{className:t.platformListItemAvatar}," ",r.a.createElement(ee.a,{className:t.platformAvatar,src:"/imgs/".concat(a,"_icon.png")})),r.a.createElement(te.a,{disableTypography:!0,primary:r.a.createElement(y.a,{className:t.platformFont},a)}),r.a.createElement(ae.a,null,r.a.createElement(Re,{name:a,checked:e.state.switchStates[a],onClick:function(t){e.handlePlatformToggle(t)}}))),r.a.createElement(ne.a,{variant:"middle",light:!0}))}))),r.a.createElement(q.a,{item:!0,xs:4}),r.a.createElement(q.a,{item:!0,xs:6,className:t.rightPart,container:!0,direction:"column",spacing:2}," ",r.a.createElement(q.a,{item:!0,container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement("h1",null,"My mentions"),r.a.createElement("div",{className:t.SwitchSelector},r.a.createElement(he.a,{initialSelectedIndex:this.state.sortByState&&"MostRecent"!==this.state.sortByState?1:0,onChange:function(t){e.sortToggle(t)},options:[{label:"Most recent",value:"MostRecent",selectedBackgroundColor:"#6583f2",selectedFontColor:"white"},{label:"Most popular",value:"MostPopular",selectedBackgroundColor:"#6583f2",selectedFontColor:"white"}],backgroundColor:"#eaeefd",fontColor:"#6583f2"}))),0===this.state.mentions.length?r.a.createElement("h3",{className:t.instruction},"Please enter a company name in the search bar, and toggle one or more platforms in the left panel."):r.a.createElement(pe.a,{pageStart:0,loadMore:this.loadMoreMentions,hasMore:this.state.hasMore,loader:r.a.createElement(re.a,{key:0})},this.state.mentions.map(function(a,n){return r.a.createElement(q.a,{item:!0,key:n,className:t.mention},r.a.createElement(Be,{inList:!0,handleLikeToggle:e.toggleLike,liked:a.liked,id:a.id,image:a.imageUrl,title:a.title,platform:a.platform,content:a.content,popularity:a.popularity,date:a.date,url:a.url,summary:a.summary,sentiment:a.sentiment}))})),r.a.createElement(ie.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.snackBarOpen,message:"New mentions arrived. Click to view. ",onClick:this.handleSnackBarClick,ContentProps:{classes:{root:t.snackBarBackground}}}))),r.a.createElement(oe.a,{"aria-labelledby":"customized-dialog-title",open:this.state.newMentionsPopupOpen,maxWidth:"md",fullWidth:!0},r.a.createElement(Fe,{id:"customized-dialog-title"},"Newly posted mentions"),r.a.createElement(ce.a,{dividers:!0},this.state.newMentions.map(function(a,n){return r.a.createElement(q.a,{item:!0,key:n,className:t.mention},r.a.createElement(Be,{inList:!0,handleLikeToggle:e.toggleLike,liked:a.liked,id:a.id,image:a.imageUrl,title:a.title,platform:a.platform,content:a.content,popularity:a.popularity,date:a.date,url:a.url,summary:a.summary,sentiment:a.sentiment}),n===e.state.newMentions.length-1?null:r.a.createElement(ne.a,null))})),r.a.createElement(le.a,null,r.a.createElement(x.a,{autoFocus:!0,onClick:this.handleNewMentionsPopupClose,color:"primary"},"Close"))),r.a.createElement(oe.a,{"aria-labelledby":"customized-dialog-title",open:this.state.singleMentionPopupOpen,maxWidth:"md",fullWidth:!0},r.a.createElement(ce.a,null,this.state.mentionDisplayedInDialog?r.a.createElement(Be,{inList:!1,handleLikeToggle:this.toggleLike,id:this.state.mentionDisplayedInDialog.id,liked:this.state.mentionDisplayedInDialog.liked,image:this.state.mentionDisplayedInDialog.imageUrl,title:this.state.mentionDisplayedInDialog.title,platform:this.state.mentionDisplayedInDialog.platform,content:this.state.mentionDisplayedInDialog.content,popularity:this.state.mentionDisplayedInDialog.popularity,date:this.state.mentionDisplayedInDialog.date,url:this.state.mentionDisplayedInDialog.url,summary:this.state.mentionDisplayedInDialog.summary,sentiment:this.state.mentionDisplayedInDialog.sentiment}):null),r.a.createElement(ne.a,{style:{marginTop:"20px"}}),r.a.createElement(le.a,null,r.a.createElement(x.a,{onClick:function(){window.open(e.state.mentionDisplayedInDialog.url)},color:"primary"},"Original Post"),r.a.createElement(x.a,{onClick:this.handleSingleMentionPopupClose,color:"primary"},"Close"))))}}]),t}(n.Component),Ae=Object(se.a)(Te)(We),Ue=a(292),ze=a(286),Ge=a(77),He=a.n(Ge),_e=Object(g.a)(function(e){return{sidePanel:{display:"flex",flexDirection:"column",marginTop:"3%"},sidePanelIcon:{marginTop:".6em",marginLeft:".2em"},panelHeader:{marginLeft:"40%",display:"flex",flexDirection:"row"},panelTabs:{display:"flex",flexDirection:"column"}}}),Je=function(e){var t=e.setTabIndex,a=e.currentTabIndex,n=_e(),i=Object(m.g)(),o=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,S.a.post("api/users/logout");case 3:I(),i.push("/login");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(q.a,{item:!0,xs:3,container:!0,className:n.sidePanel},r.a.createElement(q.a,{item:!0,className:n.panelHeader},r.a.createElement("h1",null,"Settings"),r.a.createElement(He.a,{color:"primary",fontSize:"large",className:n.sidePanelIcon})),r.a.createElement(q.a,{item:!0},r.a.createElement(Ue.a,{orientation:"vertical",indicatorColor:"primary",value:a,onChange:t,variant:"fullWidth"},r.a.createElement(ze.a,{label:"Company"}),r.a.createElement(ze.a,{label:"Security"}),r.a.createElement(ze.a,{onClick:o,label:"Logout"}))))},Ye=a(137),$e=a.n(Ye),Ve=a(290),Ze=function(e){var t=e.children,a=e.currentTabIndex,n=e.index;e.props;return r.a.createElement("div",{role:"tabpanel",hidden:a!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n)},a===n&&r.a.createElement(Ve.a,null,t))},qe=a(297),Ke=function(e){var t=e.classes,a=e.label,n=e.onClick,i=e.color;return r.a.createElement(x.a,{variant:"contained",color:i,className:t.btn,onClick:n},a)},Xe={companies:[]},Qe=function(e,t){switch(t.type){case"get_companies":return Object(U.a)({},e,{companies:t.payload});case"add_company":return Object(U.a)({},e,{companies:[].concat(Object(z.a)(e.companies),[t.payload])});case"remove_company":return Object(U.a)({},e,{companies:e.companies.filter(function(e){return e.name!==t.payload})});default:return e}},et=Object(n.createContext)(Xe),tt=function(e){var t=e.classes,a=Object(n.useState)(""),i=Object(s.a)(a,2),o=i[0],l=i[1],c=Object(n.useContext)(et),m=c.state,u=c.dispatch,p=function(){var e=Object(f.a)(h.a.mark(function e(t){var a,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m.companies.map(function(e){return e.name}).includes(t)){e.next=6;break}return e.next=3,S.a.post("/api/company",{companyName:t});case 3:a=e.sent,n=a.data,u({type:"add_company",payload:n});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(q.a,{className:t.inputWrapper},r.a.createElement(w.a,{variant:"outlined",className:t.formField,label:"Company Name",value:o,onChange:function(e){return l(e.target.value)},InputLabelProps:{style:{fontWeight:"bold"}},InputProps:{style:{fontWeight:"bold"},endAdornment:r.a.createElement(Ke,{label:"Add",onClick:function(){p(o),l("")},color:"primary",classes:t})}}))},at=function(e){var t=e.classes,a=e.name,i=Object(n.useContext)(et).dispatch,o=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete("/api/company",{data:{name:t}});case 2:i({type:"remove_company",payload:t});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(q.a,{className:t.inputWrapper},r.a.createElement(w.a,{variant:"outlined",className:t.formField,value:a,disabled:!0,InputProps:{style:{fontWeight:"bold"},endAdornment:r.a.createElement(Ke,{label:"Remove",color:"secondary",onClick:function(){return o(a)},classes:t})}}))},nt=function(e){var t=e.classes,a=Object(n.useContext)(et).state;return r.a.createElement(q.a,{item:!0,sm:12,className:t.formFieldContainer},r.a.createElement(q.a,{className:t.fieldLabel},r.a.createElement(qe.a,null,r.a.createElement("h2",null,"Your Companies"))),r.a.createElement(q.a,{className:t.formsWrapper},a.companies.map(function(e){return r.a.createElement(at,{classes:t,name:e.name,key:e.id})}),r.a.createElement(tt,{classes:t})))},rt=function(e){var t=e.classes,a=Object(n.useState)(C()),i=Object(s.a)(a,2),o=i[0],l=(i[1],Object(n.useState)(o.subscriberEmail)),c=Object(s.a)(l,2),m=c[0],u=c[1],p=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/api/users/subscribe-mail/update",{subscriberEmail:t});case 2:D(Object(U.a)({},o,{subscriberEmail:t}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{item:!0,sm:12,className:t.formFieldContainer},r.a.createElement(q.a,{className:t.fieldLabel},r.a.createElement(qe.a,null,r.a.createElement("h2",null,"Weekly Report"))),r.a.createElement(q.a,{className:t.formsWrapper},r.a.createElement(q.a,{className:t.inputWrapper},r.a.createElement(w.a,{variant:"outlined",className:t.formField,value:m,onChange:function(e){return u(e.target.value)},InputProps:{style:{fontWeight:"bold"}}})))),r.a.createElement(Ke,{classes:t,label:"Save",color:"primary",onClick:function(){return p(m)}}))},it=Object(g.a)(function(e){return{container:{display:"flex",flexDirection:"column",paddingRight:"10%"},fieldLabel:{width:"15%"},formsWrapper:{display:"flex",flexDirection:"column",width:"70%",justifyContent:"space-around"},formFieldContainer:{display:"flex",marginBottom:"40px"},formField:{"& .MuiOutlinedInput-root":{borderRadius:"25px"},marginLeft:"10px",width:"100%"},inputWrapper:{width:"70%",display:"flex",marginBottom:"10px"},btn:{width:"12%",borderRadius:"25px"}}}),ot=function(e){var t=it();return r.a.createElement(q.a,{item:!0,container:!0,sm:12,className:t.container},r.a.createElement(nt,{classes:t}),r.a.createElement(rt,{classes:t}))},st=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"This is a security Panel"))},lt=Object(g.a)(function(e){return{content:{padding:"3%",display:"flex",flexDirection:"column"}}}),ct=function(e){var t=e.currentTabIndex,a=lt(),n=Object(m.g)();return r.a.createElement(q.a,{item:!0,container:!0,xs:9,className:a.content},r.a.createElement(q.a,{sm:1,style:{whiteSpace:"nowrap"}},r.a.createElement(x.a,{onClick:function(){return n.push("/main")}},r.a.createElement($e.a,null),r.a.createElement(y.a,null,"Go Back"))),r.a.createElement(Ze,{currentTabIndex:t,index:0},r.a.createElement(ot,null)),r.a.createElement(Ze,{currentTabIndex:t,index:1},r.a.createElement(st,null)),r.a.createElement(Ze,{currentTabIndex:t,index:2},r.a.createElement("h1",null,"You are logging off..")))},mt=Object(g.a)(function(e){return{container:{display:"flex",flexDirection:"row",height:"100%",marginTop:"3%"}}}),ut=function(e){var t=mt(),a=Object(n.useState)(0),i=Object(s.a)(a,2),o=i[0],l=i[1],c=Object(n.useReducer)(Qe,Xe),m=Object(s.a)(c,2),u=m[0],p=m[1],d=Object(n.useMemo)(function(){return{state:u,dispatch:p}},[u,p]);Object(n.useEffect)(function(){function e(){return(e=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/company");case 2:t=e.sent,p({type:"get_companies",payload:t.data.companies});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);return r.a.createElement(et.Provider,{value:d},r.a.createElement(q.a,{container:!0,className:t.container},r.a.createElement(Je,{setTabIndex:function(e,t){l(t)},currentTabIndex:o}),r.a.createElement(ct,{currentTabIndex:o})))},pt=function(e){var t=e.open,a=e.handleClose,n=e.mention,i=e.toggleLike;return r.a.createElement(oe.a,{open:t,maxWidth:"md",fullWidth:!0},r.a.createElement(ce.a,null,r.a.createElement(Be,{inList:!1,id:n.id,handleLikeToggle:i,liked:!0,image:n.imageUrl,title:n.title,platform:n.platform,content:n.content,popularity:n.popularity,date:n.date})),r.a.createElement(ne.a,null),r.a.createElement(le.a,null,r.a.createElement("a",{href:"".concat(n.url),style:{textDecoration:"none"}},r.a.createElement(x.a,null,"Original Post")),r.a.createElement(x.a,{onClick:function(){return a()}},"Close")))},dt=Object(g.a)(function(e){return{container:{display:"flex",flexDirection:"column",height:"100%",marginTop:"3%",alignItems:"center"}}}),ht=function(e){var t=dt(),a=Object(n.useState)({mentions:[],page:0,hasMore:!0,dialogOpen:!1,dialogMention:{}}),i=Object(s.a)(a,2),o=i[0],l=i[1];Object(n.useEffect)(function(){function e(){return(e=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/users/mentions/liked",{params:{page:o.page}});case 2:t=e.sent,l(Object(U.a)({},o,{mentions:t.data.mentions,page:o.page+1}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var c=function(){var e=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/users/mentions/liked",{params:{page:o.page}});case 2:t=e.sent,l(Object(U.a)({},o,{mentions:[].concat(Object(z.a)(o.mentions),Object(z.a)(t.data.mentions)),page:o.page+1,hasMore:t.data.hasMore}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),m=Object(be.a)(250,c),u=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/users/mentions/".concat(t,"/like"));case 2:e.sent.data.mention.liked||l(Object(U.a)({},o,{mentions:o.mentions.filter(function(e){return e.MentionId!==t})}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(q.a,{className:t.container},r.a.createElement("h1",{style:{textAlign:"center"}},"Your Liked Mentions"),r.a.createElement(pt,{open:o.dialogOpen,handleClose:function(){l(Object(U.a)({},o,{dialogOpen:!1,dialogMention:{}}))},mention:o.dialogMention,toggleLike:u}),r.a.createElement(pe.a,{pageState:o.page,loadMore:m,hasMore:o.hasMore,loader:r.a.createElement(re.a,{key:0})},o.mentions.map(function(e){var t=e.Mention;return r.a.createElement(Be,{inLiked:!0,toggleLikedDialog:function(){return function(e){l(Object(U.a)({},o,{dialogOpen:!0,dialogMention:e}))}(t)},inList:!0,key:t.id,handleLikeToggle:u,liked:!0,id:t.id,image:t.imageUrl,title:t.title,platform:t.platform,content:t.content,popularity:t.popularity,date:t.date})}))," ")},ft=a(287),gt=a(288),bt=a(139),yt=a.n(bt),xt=a(269),Et=a(138),vt=Object(g.a)(function(){return{redirectContainer:{display:"flex",whiteSpace:"nowrap"},redirectText:{display:"flex",alignItems:"center",marginRight:"20px"},redirectButton:{borderRadius:"25px"},fontColorForMentions:{color:"white"},fontColorForCrawler:{color:"#191970"},AppBar:{height:"5.4em",boxShadow:"none"},LogoGrid:{display:"flex",alignItems:"center"},SearchBarGrid:{display:"flex",alignItems:"center",justifyContent:"space-between"},SeacrhBarDiv:{borderRadius:50,display:"flex",alignItems:"center",backgroundColor:"white",paddingLeft:"10px",paddingRight:"10px",width:"100%",height:"2.5em"},TextField:{width:"100%"},SearchIcon:{color:"black"},NavIcons:{display:"flex",alignItems:"center",justifyContent:"flex-end"},spacing:{justifyContent:"space-between"}}});function wt(){var e=vt(),t=Object(m.g)(),a=Object(n.useState)(""),i=Object(s.a)(a,2),o=i[0],l=i[1],u=Object(n.useState)(""),p=Object(s.a)(u,2),d=p[0],g=p[1];Object(n.useEffect)(function(){var e=new URLSearchParams(window.location.search).get("keywords");e||(e=""),l(e)},[]);var E=function(){var e=Object(f.a)(h.a.mark(function e(a){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=new URLSearchParams(window.location.search)).set("keywords",a.target.value),t.push(window.location.pathname+"?"+n.toString());case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=window.location.pathname;Object(n.useEffect)(function(){g("/login"!=v?"Log In":"Sign Up")},[v]);return r.a.createElement("div",null,r.a.createElement(ft.a,{className:e.AppBar},r.a.createElement(gt.a,null,r.a.createElement(q.a,{container:!0,className:e.spacing,spacing:0},r.a.createElement(q.a,{item:!0,xs:4,className:e.LogoGrid},r.a.createElement(y.a,{variant:"h6"},r.a.createElement(c.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement("span",{className:e.fontColorForMentions},"mentions"),r.a.createElement("span",{className:e.fontColorForCrawler},"crawler.")))),C()?r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{item:!0,xs:6,className:e.SearchBarGrid},r.a.createElement("div",{className:e.SeacrhBarDiv},r.a.createElement(Et.DebounceInput,{element:xt.a,debounceTimeout:300,className:e.TextField,disableUnderline:!0,onChange:E,value:o}),r.a.createElement(yt.a,{className:e.SearchIcon}))),r.a.createElement(q.a,{item:!0,xs:2,className:e.NavIcons},r.a.createElement(c.b,{to:"/mentions/liked"},r.a.createElement(Ne.a,{color:"inherit"},r.a.createElement(De.a,null))),r.a.createElement(c.b,{to:"/settings"},r.a.createElement(Ne.a,{color:"inherit"},r.a.createElement(He.a,null))))):r.a.createElement(q.a,null,r.a.createElement(b.a,{className:e.redirectContainer},r.a.createElement(y.a,{variant:"h2",className:e.redirectText},"Log In"===d?"Already have an account?":"Don't have an account?"),r.a.createElement(x.a,{className:e.redirectButton,variant:"outlined",color:"secondary",onClick:function(){"/login"!=v?(g("Sign Up"),t.push("/login")):(g("Log In"),t.push("/signup"))}},r.a.createElement(y.a,{variant:"h3"},d))))))))}a(221);var kt=r.a.createContext();var Ot=function(){var e,t=Object(n.useState)(!1),a=Object(s.a)(t,2),i=a[0],o=a[1],u=Object(n.useState)(""),d=Object(s.a)(u,2),h=d[0],f=d[1],g=Object(n.useState)(""),b=Object(s.a)(g,2),y=(b[0],b[1]),x=Object(n.useState)(""),E=Object(s.a)(x,2),v=E[0],w=E[1],k=function(){return!!C()};!function(e,t){S.a.interceptors.response.use(function(e){return e},function(a){return 401===a.response.status&&(e(),t()),Promise.reject(a)})}(function(){I(),o(!0),f("Logged out due to authorization failure"),console.log("logging out due to authorization failure")},k),e=function(){y("unhide")},S.a.interceptors.response.use(function(t){return t.data.user&&(D(t.data.user),e()),t},function(e){var t=JSON.stringify(e);return t.includes("409")?"That email already exists":t.includes("404")?"User doesn't exist":t.includes("403")?"Password does not match":void 0});var O=window.location.pathname;return k()||"/login"==O||"/signup"==O||M(O),r.a.createElement(l.a,{theme:p},r.a.createElement(R.a,null),r.a.createElement(c.a,null,r.a.createElement(kt.Provider,{value:{searchTerm:v,setSearchTerm:w}},r.a.createElement(wt,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/login",component:W}),r.a.createElement(m.b,{exact:!0,path:"/signup",component:B}),k()?r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/main/mentions/:idAndPlatform",component:Ae}),r.a.createElement(m.b,{exact:!0,path:"/main",component:Ae}),r.a.createElement(m.b,{exact:!0,path:"/settings",component:ut}),r.a.createElement(m.b,{exact:!0,path:"/mentions/liked",component:ht}),r.a.createElement(m.b,{path:"/",component:Ae})," "):r.a.createElement(m.a,{to:"/signup"}),r.a.createElement(m.b,{render:function(){return r.a.createElement(m.a,{to:"/login"})}})))),r.a.createElement(ie.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},onClose:function(){return o(!1)},autoHideDuration:6e3,open:i,message:h}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ot,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},97:function(e,t,a){}},[[155,1,2]]]);
//# sourceMappingURL=main.a2a5a19c.chunk.js.map